
{% extends 'base.html' %}
{% block content %}
  <h2>Add New Mold</h2>
  <form method="post" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="part_number" class="form-label">Part Number</label>
      <input type="text" class="form-control" id="part_number" name="part_number" required>
    </div>
    <div class="mb-3">
      <label for="mold_number" class="form-label">Mold Number</label>
      <input type="text" class="form-control" id="mold_number" name="mold_number" required>
    </div>
    <div class="mb-3">
      <label for="cycle_time" class="form-label">Cycle Time (minutes)</label>
      <input type="number" step="0.01" class="form-control" id="cycle_time" name="cycle_time" required>
    </div>
    <div class="mb-3">
      <label for="bom" class="form-label">Bill of Materials</label>
      <textarea class="form-control" id="bom" name="bom" rows="4" required></textarea>
    </div>
    <div class="mb-3">
      <label for="num_operators" class="form-label">Number of Operators</label>
      <input type="number" class="form-control" id="num_operators" name="num_operators" required>
    </div>
    <div class="mb-3">
      <label for="media" class="form-label">Media Files (Images/Videos)</label>
      <input type="file" class="form-control" id="media" name="media" multiple accept="image/*,video/*">
    </div>
    <button type="submit" class="btn btn-primary">Add Mold</button>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancel</a>
  </form>
<h4>Process Times (hrs)</h4>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Process</th>
      <th>Standard Time</th>
      <th>Actual Time</th>
    </tr>
  </thead>
  <tbody>
    <!-- 1. Prefab -->
    <tr>
      <td>Prefab</td>
      <td>
        <input type="number" step="any" class="form-control"
               name="standard_Prefab"
               {% if mold %} value="{{ mold.process_data['Prefab']['standard'] }}" {% endif %}
               placeholder="e.g. 5.52" required>
      </td>
      <td>
        <input type="number" step="any" class="form-control"
               name="actual_Prefab"
               {% if mold %} value="{{ mold.process_data['Prefab']['actual'] }}" {% endif %}
               placeholder="Enter actual time">
      </td>
    </tr>

    <!-- 2. Gelcoat -->
    <tr>
      <td>Gelcoat</td>
      <td>
        <input type="number" step="any" class="form-control"
               name="standard_Gelcoat"
               {% if mold %} value="{{ mold.process_data['Gelcoat']['standard'] }}" {% endif %}
               placeholder="e.g. 3.20" required>
      </td>
      <td>
        <input type="number" step="any" class="form-control"
               name="actual_Gelcoat"
               {% if mold %} value="{{ mold.process_data['Gelcoat']['actual'] }}" {% endif %}
               placeholder="Enter actual time">
      </td>
    </tr>

    <!-- 3. Lamination -->
    <tr>
      <td>Lamination</td>
      <td>
        <input type="number" step="any" class="form-control"
               name="standard_Lamination"
               {% if mold %} value="{{ mold.process_data['Lamination']['standard'] }}" {% endif %}
               placeholder="e.g. 14.09" required>
      </td>
      <td>
        <input type="number" step="any" class="form-control"
               name="actual_Lamination"
               {% if mold %} value="{{ mold.process_data['Lamination']['actual'] }}" {% endif %}
               placeholder="Enter actual time">
      </td>
    </tr>

    <!-- 4. Foam -->
    <tr>
      <td>Foam</td>
      <td>
        <input type="number" step="any" class="form-control"
               name="standard_Foam"
               {% if mold %} value="{{ mold.process_data['Foam']['standard'] }}" {% endif %}
               placeholder="e.g. 0" required>
      </td>
      <td>
        <input type="number" step="any" class="form-control"
               name="actual_Foam"
               {% if mold %} value="{{ mold.process_data['Foam']['actual'] }}" {% endif %}
               placeholder="Enter actual time">
      </td>
    </tr>

    <!-- 5. Part & Prep -->
    <tr>
      <td>Part &amp; Prep</td>
      <td>
        <input type="number" step="any" class="form-control"
               name="standard_Part_and_Prep"
               {% if mold %} value="{{ mold.process_data['Part & Prep']['standard'] }}" {% endif %}
               placeholder="e.g. 4.23" required>
      </td>
      <td>
        <input type="number" step="any" class="form-control"
               name="actual_Part_and_Prep"
               {% if mold %} value="{{ mold.process_data['Part & Prep']['actual'] }}" {% endif %}
               placeholder="Enter actual time">
      </td>
    </tr>

    <!-- 6. T&G -->
    <tr>
      <td>T&amp;G</td>
      <td>
        <input type="number" step="any" class="form-control"
               name="standard_TandG"
               {% if mold %} value="{{ mold.process_data['T&G']['standard'] }}" {% endif %}
               placeholder="e.g. 3.96" required>
      </td>
      <td>
        <input type="number" step="any" class="form-control"
               name="actual_TandG"
               {% if mold %} value="{{ mold.process_data['T&G']['actual'] }}" {% endif %}
               placeholder="Enter actual time">
      </td>
    </tr>

    <!-- 7. Part Inspection -->
    <tr>
      <td>Part Inspection</td>
      <td>
        <input type="number" step="any" class="form-control"
               name="standard_Part_Inspection"
               {% if mold %} value="{{ mold.process_data['Part Inspection']['standard'] }}" {% endif %}
               placeholder="e.g. 0" required>
      </td>
      <td>
        <input type="number" step="any" class="form-control"
               name="actual_Part_Inspection"
               {% if mold %} value="{{ mold.process_data['Part Inspection']['actual'] }}" {% endif %}
               placeholder="Enter actual time">
      </td>
    </tr>

    <!-- 8. QC Check -->
    <tr>
      <td>QC Check</td>
      <td>
        <input type="number" step="any" class="form-control"
               name="standard_QC_Check"
               {% if mold %} value="{{ mold.process_data['QC Check']['standard'] }}" {% endif %}
               placeholder="e.g. 0" required>
      </td>
      <td>
        <input type="number" step="any" class="form-control"
               name="actual_QC_Check"
               {% if mold %} value="{{ mold.process_data['QC Check']['actual'] }}" {% endif %}
               placeholder="Enter actual time">
      </td>
    </tr>

    <!-- 9. Mold repair -->
    <tr>
      <td>Mold Repair</td>
      <td>
        <input type="number" step="any" class="form-control"
               name="standard_Mold_repair"
               {% if mold %} value="{{ mold.process_data['Mold repair']['standard'] }}" {% endif %}
               placeholder="e.g. 0" required>
      </td>
      <td>
        <input type="number" step="any" class="form-control"
               name="actual_Mold_repair"
               {% if mold %} value="{{ mold.process_data['Mold repair']['actual'] }}" {% endif %}
               placeholder="Enter actual time">
      </td>
    </tr>
  </tbody>
</table>

{% endblock %}
